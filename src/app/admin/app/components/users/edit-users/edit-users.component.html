<section class="content">
  <div class="container">
    <div class="row clearfix">
      <div class="col-md-12">
        <div class="body">
          <form
            #editUserForm="ngForm"
            ngNativeValidate
            (ngSubmit)="editUserFormValue(editUserForm.value)"
          >
            <div class="card">
              <div class="header">
                <h2><strong>Edit</strong> User</h2>
              </div>
              <div class="row p-4">
                <div class="form-group col-sm-6">
                  <label>Full name </label>
                  <input
                    type="text"
                    class="form-control"
                    name="name"
                    placeholder="Enter name"
                    [ngModel]="name"
                    maxlength="50"
                    required
                  />
                </div>
                <div class="form-group col-sm-6">
                  <label>Email</label>
                  <input
                    type="email"
                    class="form-control"
                    name="email"
                    placeholder="Enter email"
                    [ngModel]="email"
                    maxlength="50"
                    required
                  />
                </div>
                <div class="form-group col-sm-6">
                  <label>Phone</label>
                  <input
                    type="text"
                    class="form-control"
                    name="phone"
                    placeholder="Enter phone"
                    [ngModel]="phone"
                    maxlength="13"
                    pattern="[0-9]{7,13}"
                    title="Please enter valid phone number"
                    required
                  />
                </div>
                <div class="form-group col-sm-6">
                  <label>Address</label>
                  <input
                    type="text"
                    class="form-control"
                    name="address"
                    placeholder="Enter address"
                    [ngModel]="address"
                    maxlength="100"
                    required
                  />
                </div>
                <div class="form-group col-sm-6">
                  <label>City</label>
                  <input
                    type="text"
                    class="form-control"
                    name="city"
                    placeholder="Enter city"
                    maxlength="30"
                    required
                    [ngModel]="city"
                  />
                </div>
                <div class="form-group col-sm-6">
                  <label>State</label>
                  <input
                    type="text"
                    class="form-control"
                    name="state"
                    placeholder="Enter state"
                    maxlength="30"
                    required
                    [ngModel]="state"
                  />
                </div>
              </div>
            </div>

            <div class="card px-4 pt-4 body table-responsive">
              <table class="table table-striped">
                <tr *ngFor="let item of moduleData">
                  <th>{{ item.id }}. {{ item.name }}</th>
                  <td>
                    <div class="form-group" *ngIf="item.has_view == '1'">
                      <div class="checkbox">
                        <input
                          id="{{ item.id }}-view"
                          class="form-check-input"
                          type="checkbox"
                          [checked]="this.viewArray.includes(item.id)"
                          (change)="saveView($event)"
                          value="{{ item.id }}"
                        />
                        <label for="{{ item.id }}-view">View</label>
                      </div>
                    </div>
                  </td>
                  <td>
                    <div class="form-group" *ngIf="item.has_modify == '1'">
                      <div class="checkbox">
                        <input
                          id="{{ item.id }}-modify"
                          class="form-check-input"
                          type="checkbox"
                          [checked]="this.modifyArray.includes(item.id)"
                          (change)="saveModify($event)"
                          value="{{ item.id }}"
                        />
                        <label for="{{ item.id }}-modify">Modify</label>
                      </div>
                    </div>
                  </td>
                </tr>
              </table>
            </div>

            <div class="card p-4">
              <div class="row">
                <div class="form-group col-md-12">
                  <label>Status </label>
                  <select
                    class="custom-select"
                    name="status"
                    [ngModel]="status"
                  >
                    <option value="0">Inactive</option>
                    <option value="1">Active</option>
                  </select>
                </div>
                <div class="mt col-md-12 mt-4">
                  <a routerLink="/admin/app/all-users">
                    <button type="" class="btn">Cancel</button>
                  </a>
                  <button
                    type="submit"
                    [disabled]="buttonDisabled"
                    class="btn btn-primary float-right"
                  >
                    Update User
                  </button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>
